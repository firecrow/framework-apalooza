<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Framework aPalooza</title>
<link href="style.css" rel="stylesheet" />
  <meta 
    name="viewport"
    content="width=device-width,maximum-scale=1.0,initial-scale=1.0,minimum-scale=1.0,user-scalable=yes,shrink-to-fit=no"
  >
  <script src="bundle.js" type="text/javascript"></script>
</head>
<body>
<header>
    <nav>
        <ul>
          <li data:target="react">React App</li>
          <li data:target="angular">Angular App</li>
          <li data:target="svelte">Svelte App</li>
          <li data:target="vue">Vue App</li>
        </ul>
    </nav>
</header>
<section>
    <div id="react-root"></div>
</section>
<footer>
</footer>
<script type="text/javascript">
  (function(){
      const appMakeDict = {
        'react': FFPalooza.ReactApp,
        'vue': FFPalooza.VueApp,
        'angular': FFPalooza.AngularApp,
        'svelte': FFPalooza.SvelteApp,
      };
      const appDict = {};

      let currentTarget = "";
      function LoadApp(target){
        const currentApp = appDict[currentTarget];
        if(currentApp){
          currentApp.hide();
        }
        const app = appDict[target];
        if(app){
          app.show();
        }else{
          const appMaker = appMakeDict[target];
          if(appMaker){
            appDict[target] = new appMaker();
          }
        }
        currentTarget = target;
      }

      window.addEventListener("load", function(){
          const li_arr = document.querySelectorAll('nav ul li');
          for(let i = 0; i < li_arr.length; i++){
              (function(appLink){
                const target = appLink.getAttribute('data:target');
                appLink.onclick = () => {
                    LoadApp(target);
                }
              })(li_arr[i]);
          }
      });
  })();
</script>
</body>
</html>
